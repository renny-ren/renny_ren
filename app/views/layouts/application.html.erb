<!DOCTYPE html>
<html>
  <head>
    <title><%= yield(:title).present? ? "#{yield(:title)} - #{t(:title)}" : t(:title) %></title>
    <meta name=keywords content="任峻宏, renny.ren, renny ren, renny, 个人主页, 小站, 博客, blog, 止于至善">
    <meta name=description content="任峻宏的小站, 记录学习与生活, 记录生活点滴, Renny's blog, recording my life">
    <meta name="viewport" content="width=device-width, initial-scale=1">  

    <%= csrf_meta_tags %>
    <%= favicon_link_tag 'avatar.ico' %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    <%= auto_discovery_link_tag :atom, "/feed" %>
    <%= auto_discovery_link_tag :rss, "/feed.rss" %>
  </head>

  <body>
    <div class="nav-header">
      <div class="ui padded grid">
        <div class="right aligned four wide mobile three wide computer column avatar"><%= link_to image_tag('avatar.png', style: 'width: 88px'), home_path %></div>
        <div class="center aligned twelve wide mobile ten wide computer column nav-link">
          <%= link_to t(:home), home_path, method: :get %>
          <%= link_to t('articles.title'), articles_path, method: :get %>
          <%= link_to t('videos.title'), videos_path, method: :get %>
          <%= link_to t('about.title'), about_index_path, method: :get %>
        </div>
        <div class="right aligned three wide column computer only">
          <div class="ui simple dropdown item locale-dropdown">
            <%= I18n.t('language_name') %>
            <i class="dropdown icon"></i>
            <div class="menu">
              <% I18n.available_locales.each do |language| %>
                <a class="item" href=<%= "/#{language}" %>><%= I18n.t('language_name', locale: language) %></a>
              <% end %>
            </div>
          </div>
        </div>
      </div>

    </div>

    <div class="flash-notice"></div>
    <%= yield %>

    <button id="backToTopButton" onclick="scrollToTop()">
      <div class="back-top-icon">
        <span class="c-icon">
          <svg
            viewBox="64 64 896 896"
            focusable="false"
            data-icon="vertical-align-top"
            width="1em"
            height="1em"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z">
            </path>
          </svg>
        </span>
      </div>
    </button>

    <footer>
      <div class="ui grid footer-container">
        <div class="row">
          <div class="right aligned four wide mobile three wide computer column media">
            <%= link_to fa_icon('github'), "https://github.com/renny-ren", target: '_blank' %>
            <%= link_to fa_icon('twitter'), "https://twitter.com/rennyren66", target: '_blank' %>
            <%= link_to fa_icon('instagram'), "https://www.instagram.com/rennyren1", target: '_blank' %>
            <%= link_to fa_icon('qq'), "https://wpa.qq.com/msgrd?v=3&uin=267286753&site=qq&menu=yes", target: '_blank' %>
            <%= link_to fa_icon('wechat'), 'javascript:void(0);', onclick: "$('.wechat-modal').modal('show')" %>
          </div>
          <div class="four wide mobile ten wide computer column link">
            <%= link_to t(:site), sites_path, method: :get %>
            <%= link_to t('changelogs.title'), changelogs_path, style: 'word-break: keep-all' %>
            <%= link_to 'RSS', feed_path, method: :get %>
          </div>
          <div class="right aligned eight wide mobile three wide computer column beian">
            <%= link_to '蜀ICP备19024450号-1', 'https://beian.miit.gov.cn/', target: '_blank' %>
          </div>
        </div>
      </div>
    </footer>

    <div class="ui basic modal wechat-modal">
      <div class="ui center aligned container">
        <p><%= t('scan_qr_code_to_add_me') %></p>
        <%= image_tag 'wechat_qr.jpeg' %>
      </div>
    </div>
  </body>
</html>
